<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<h1 id="measurement-methodology">Measurement methodology</h1>
<p>Although Multipath TCP is already used by hundred of millions of Apple smartphones to support the Siri voice recognition application, it is difficult to collect both WiFi and cellular traces without cooperation from an ISP.<br />Instead, a Multipath TCP capable SOCKS proxy was set up (like KT) and this analysis focuses on the Multipath TCP implementation in the <a href="https://github.com/multipath-tcp/mptcp">Linux kernel</a>.<br />This implementation is distributed from <a href="http://multipath-tcp.org">multipath-tcp.org</a> and can be integrated in Android.</p>
<p>The dataset covers the traffic produced by a dozen of Nexus 5 smartphones running Android 4.4 with a modified Linux kernel that includes Multipath TCP v0.89.5.<br />This dataset allows to understand how real smartphone applications behave when using Multipath TCP instead of regular TCP.<br />However, installing Multipath TCP on the smartphones is not sufficient to use it for all connections established by applications.<br />As of this writing, there are probably only a few dozens of Multipath TCP enabled servers on the Internet and these are rarely accessed by real smartphone applications.<br />To force these applications to use Multipath TCP, <a href="http://shadowsocks.org">ShadowSocks</a> was installed on each smartphone and configured to use a SOCKS server located in France that supports Multipath TCP for all TCP connections.<br />Note that since <a href="http://shadowsocks.org">ShadowSocks</a> does not support IPv6, this trace only contains IPv4 packets.<br />The smartphones thus use Multipath TCP over their WiFi and cellular interfaces to reach the SOCKS server and this server uses regular TCP to interact with the final destinations.<br />From the server side, all the connections from the dozen smartphones appear as coming from the SOCKS server.<br />This implies that the external (cellular or WiFi) IP address of the smartphone is not visible to the servers that it contacts.<br />This might affect the operation of some servers that adapt their behavior (e.g. the initial congestion window) in function of the client IP address.<br />Moreover, note that the <a href="http://shadowsocks.org">ShadowSocks</a> client sends DNS requests over TCP.</p>
<p><a href="https://github.com/MPTCP-smartphone-thesis/MultipathControl">A special Android application managing the utilization of the cellular and WiFi interfaces</a> was also installed on each smartphone.<br />Smartphones with Android 4.4 assume that only one wireless interface is active at a time.<br />When such a smartphone switches from cellular to WiFi, it automatically resets all existing TCP connections by using Android specific functions.<br />This application enables the cellular and WiFi interfaces simultaneously.<br />It also controls the routing tables and updates the policy routes that are required for Multipath TCP every time the smartphone connects to a wireless network.<br />Thanks to this application, the modified Nexus 5 can be used by any user since it does not require any networking knowledge.</p>
<p>The SOCKS proxy ran <a href="http://www.tcpdump.org/">tcpdump</a> to collect all the packets exchanged with the smartphones.<br />Measurements were performed in Belgium from March 8th to April 28th 2015.<br />Over this period of 7 weeks, more than 71 millions Multipath TCP packets were collected for a total of 25.4 GBytes over 390,782 Multipath TCP connections.</p>
</body>
</html>
